<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>归律诗书屋</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script src="/js/base.js"></script>
    <meta name="description" content="规律是什么，应该做什么">
    
    <link rel="preload" href="/assets/css/0.styles.732cfe5a.css" as="style"><link rel="preload" href="/assets/js/app.9098f2d6.js" as="script"><link rel="preload" href="/assets/js/2.f664f0df.js" as="script"><link rel="preload" href="/assets/js/65.407e96f4.js" as="script"><link rel="preload" href="/assets/js/10.f82cd603.js" as="script"><link rel="prefetch" href="/assets/js/100.0b017729.js"><link rel="prefetch" href="/assets/js/101.a32b7951.js"><link rel="prefetch" href="/assets/js/102.bc1b6c72.js"><link rel="prefetch" href="/assets/js/103.9f45dbec.js"><link rel="prefetch" href="/assets/js/104.c4d95740.js"><link rel="prefetch" href="/assets/js/11.f76fc40f.js"><link rel="prefetch" href="/assets/js/12.6944af50.js"><link rel="prefetch" href="/assets/js/13.b89150ac.js"><link rel="prefetch" href="/assets/js/14.1501f817.js"><link rel="prefetch" href="/assets/js/15.4ef0f2a7.js"><link rel="prefetch" href="/assets/js/16.120197c6.js"><link rel="prefetch" href="/assets/js/17.0e60bb83.js"><link rel="prefetch" href="/assets/js/18.2318b5c9.js"><link rel="prefetch" href="/assets/js/19.8bdd7690.js"><link rel="prefetch" href="/assets/js/20.4a833638.js"><link rel="prefetch" href="/assets/js/21.94094807.js"><link rel="prefetch" href="/assets/js/22.43cb76f6.js"><link rel="prefetch" href="/assets/js/23.c4100de5.js"><link rel="prefetch" href="/assets/js/24.13a694fe.js"><link rel="prefetch" href="/assets/js/25.73e7c270.js"><link rel="prefetch" href="/assets/js/26.cec4157b.js"><link rel="prefetch" href="/assets/js/27.3e6f7d78.js"><link rel="prefetch" href="/assets/js/28.50860f22.js"><link rel="prefetch" href="/assets/js/29.dade73f8.js"><link rel="prefetch" href="/assets/js/3.6afeda28.js"><link rel="prefetch" href="/assets/js/30.e415a951.js"><link rel="prefetch" href="/assets/js/31.245e1ff8.js"><link rel="prefetch" href="/assets/js/32.1c58c318.js"><link rel="prefetch" href="/assets/js/33.2a35dc80.js"><link rel="prefetch" href="/assets/js/34.928df80d.js"><link rel="prefetch" href="/assets/js/35.7caf1f6b.js"><link rel="prefetch" href="/assets/js/36.eef51210.js"><link rel="prefetch" href="/assets/js/37.daa3f442.js"><link rel="prefetch" href="/assets/js/38.eeffb529.js"><link rel="prefetch" href="/assets/js/39.95683b9b.js"><link rel="prefetch" href="/assets/js/4.7d1e3a27.js"><link rel="prefetch" href="/assets/js/40.7f72a5a5.js"><link rel="prefetch" href="/assets/js/41.d9074d14.js"><link rel="prefetch" href="/assets/js/42.efdc1f95.js"><link rel="prefetch" href="/assets/js/43.4d868b19.js"><link rel="prefetch" href="/assets/js/44.39f49c28.js"><link rel="prefetch" href="/assets/js/45.fed4a64f.js"><link rel="prefetch" href="/assets/js/46.81f4a3ca.js"><link rel="prefetch" href="/assets/js/47.a3bf6707.js"><link rel="prefetch" href="/assets/js/48.c6d93e94.js"><link rel="prefetch" href="/assets/js/49.8746a81f.js"><link rel="prefetch" href="/assets/js/5.2a0c43dc.js"><link rel="prefetch" href="/assets/js/50.7d5ec5b6.js"><link rel="prefetch" href="/assets/js/51.95b7c204.js"><link rel="prefetch" href="/assets/js/52.00a09d16.js"><link rel="prefetch" href="/assets/js/53.9524084e.js"><link rel="prefetch" href="/assets/js/54.1a8cc05a.js"><link rel="prefetch" href="/assets/js/55.71782b73.js"><link rel="prefetch" href="/assets/js/56.b947061b.js"><link rel="prefetch" href="/assets/js/57.11a9393e.js"><link rel="prefetch" href="/assets/js/58.c8fbf621.js"><link rel="prefetch" href="/assets/js/59.625314bf.js"><link rel="prefetch" href="/assets/js/6.c059e3e4.js"><link rel="prefetch" href="/assets/js/60.1ec17786.js"><link rel="prefetch" href="/assets/js/61.d4981987.js"><link rel="prefetch" href="/assets/js/62.d9540377.js"><link rel="prefetch" href="/assets/js/63.7ce35e41.js"><link rel="prefetch" href="/assets/js/64.48918d7f.js"><link rel="prefetch" href="/assets/js/66.6997bec9.js"><link rel="prefetch" href="/assets/js/67.c5e5f86c.js"><link rel="prefetch" href="/assets/js/68.ee64232e.js"><link rel="prefetch" href="/assets/js/69.dc92dff3.js"><link rel="prefetch" href="/assets/js/7.cf1c6bc8.js"><link rel="prefetch" href="/assets/js/70.7e22b5d4.js"><link rel="prefetch" href="/assets/js/71.15065321.js"><link rel="prefetch" href="/assets/js/72.3386bac8.js"><link rel="prefetch" href="/assets/js/73.fb724b18.js"><link rel="prefetch" href="/assets/js/74.9a692a0b.js"><link rel="prefetch" href="/assets/js/75.202da1fd.js"><link rel="prefetch" href="/assets/js/76.70c1c8f8.js"><link rel="prefetch" href="/assets/js/77.70291f3f.js"><link rel="prefetch" href="/assets/js/78.b7cd50b7.js"><link rel="prefetch" href="/assets/js/79.3d7eb8e2.js"><link rel="prefetch" href="/assets/js/8.ff8ef414.js"><link rel="prefetch" href="/assets/js/80.ce8dffd6.js"><link rel="prefetch" href="/assets/js/81.c34c3904.js"><link rel="prefetch" href="/assets/js/82.9414052b.js"><link rel="prefetch" href="/assets/js/83.a2da1a0a.js"><link rel="prefetch" href="/assets/js/84.589d3fe4.js"><link rel="prefetch" href="/assets/js/85.40a5ab61.js"><link rel="prefetch" href="/assets/js/86.03d4caec.js"><link rel="prefetch" href="/assets/js/87.5bfbb8de.js"><link rel="prefetch" href="/assets/js/88.d63f9a15.js"><link rel="prefetch" href="/assets/js/89.31f30592.js"><link rel="prefetch" href="/assets/js/9.46c773a8.js"><link rel="prefetch" href="/assets/js/90.82e6bbde.js"><link rel="prefetch" href="/assets/js/91.e6ef02dd.js"><link rel="prefetch" href="/assets/js/92.485a3afc.js"><link rel="prefetch" href="/assets/js/93.80da4442.js"><link rel="prefetch" href="/assets/js/94.69591e93.js"><link rel="prefetch" href="/assets/js/95.b233d915.js"><link rel="prefetch" href="/assets/js/96.8205937d.js"><link rel="prefetch" href="/assets/js/97.420c1537.js"><link rel="prefetch" href="/assets/js/98.41c37eae.js"><link rel="prefetch" href="/assets/js/99.51e246dc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.732cfe5a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="归律诗书屋" class="logo"> <span class="site-name can-hide">归律诗书屋</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/it/" class="nav-link router-link-active">
  编程
</a></div><div class="nav-item"><a href="/book/" class="nav-link">
  万卷书
</a></div><div class="nav-item"><a href="/poetry/" class="nav-link">
  格律诗
</a></div><div class="nav-item"><a href="/meitu/" class="nav-link">
  美图
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用" class="dropdown-title"><span class="title">常用</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用" class="mobile-dropdown-title"><span class="title">常用</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.bing.com/?mkt=zh-CN&amp;mkt=zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  必应
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://translate.google.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Google翻译
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://stock.tuchong.com/topic?topicId=50044&amp;from=Adobe%E7%8B%AC%E5%AE%B6" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图虫
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.zhouzhiyuan.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  周志远
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://baiyunju.cc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  白云居
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人" class="dropdown-title"><span class="title">个人</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人" class="mobile-dropdown-title"><span class="title">个人</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/misc/2022.html" class="nav-link">
  思记
</a></li><li class="dropdown-item"><!----> <a href="/misc/口语表达.html" class="nav-link">
  口语表达
</a></li><li class="dropdown-item"><!----> <a href="/life/UnusualThinking.html" class="nav-link">
  二般思维
</a></li><li class="dropdown-item"><!----> <a href="/misc/AboutMe.html" class="nav-link">
  狼与羊
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/it/" class="nav-link router-link-active">
  编程
</a></div><div class="nav-item"><a href="/book/" class="nav-link">
  万卷书
</a></div><div class="nav-item"><a href="/poetry/" class="nav-link">
  格律诗
</a></div><div class="nav-item"><a href="/meitu/" class="nav-link">
  美图
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用" class="dropdown-title"><span class="title">常用</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用" class="mobile-dropdown-title"><span class="title">常用</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.bing.com/?mkt=zh-CN&amp;mkt=zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  必应
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://translate.google.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Google翻译
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://stock.tuchong.com/topic?topicId=50044&amp;from=Adobe%E7%8B%AC%E5%AE%B6" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图虫
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.zhouzhiyuan.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  周志远
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://baiyunju.cc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  白云居
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人" class="dropdown-title"><span class="title">个人</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人" class="mobile-dropdown-title"><span class="title">个人</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/misc/2022.html" class="nav-link">
  思记
</a></li><li class="dropdown-item"><!----> <a href="/misc/口语表达.html" class="nav-link">
  口语表达
</a></li><li class="dropdown-item"><!----> <a href="/life/UnusualThinking.html" class="nav-link">
  二般思维
</a></li><li class="dropdown-item"><!----> <a href="/misc/AboutMe.html" class="nav-link">
  狼与羊
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>不只是编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/it/java/Java基础.html" class="sidebar-link">Java基础</a></li><li><a href="/it/java/Servlet.html" class="sidebar-link">Servlet/网络编程</a></li><li><a href="/it/spring/Topic.html" class="sidebar-link">多线程/并发</a></li><li><a href="/it/java/DesignPattern.html" class="sidebar-link">设计模式</a></li><li><a href="/it/java/JVM.html" aria-current="page" class="active sidebar-link">JVM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/it/java/JVM.html#运行机制" class="sidebar-link">运行机制</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#子系统" class="sidebar-link">子系统</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#多线程" class="sidebar-link">多线程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/it/java/JVM.html#内核线程" class="sidebar-link">内核线程</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#后台线程" class="sidebar-link">后台线程</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#内存模型" class="sidebar-link">内存模型</a></li></ul></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#运行时数据区" class="sidebar-link">运行时数据区</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/it/java/JVM.html#程序计数器" class="sidebar-link">程序计数器</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#虚拟机栈" class="sidebar-link">虚拟机栈</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#本地方法区" class="sidebar-link">本地方法区</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#堆" class="sidebar-link">堆</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#方法区" class="sidebar-link">方法区</a></li></ul></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#垃圾回收" class="sidebar-link">垃圾回收</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/it/java/JVM.html#分代收集" class="sidebar-link">分代收集</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#垃圾回收算法" class="sidebar-link">垃圾回收算法</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#分代收集与分区收集" class="sidebar-link">分代收集与分区收集</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#垃圾收集器" class="sidebar-link">垃圾收集器</a></li></ul></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#类加载系统" class="sidebar-link">类加载系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/it/java/JVM.html#类加载器" class="sidebar-link">类加载器</a></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#双亲委派-向上委托、向下委派" class="sidebar-link">双亲委派（向上委托、向下委派）</a></li></ul></li><li class="sidebar-sub-header"><a href="/it/java/JVM.html#四种引用类型" class="sidebar-link">四种引用类型</a></li></ul></li><li><a href="/it/java/ReactiveProgramming.html" class="sidebar-link">响应式编程</a></li><li><a href="/it/java/数据结构.html" class="sidebar-link">数据结构</a></li><li><a href="/it/java/算法.html" class="sidebar-link">算法</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微服务</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>领域模型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工具箱</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://pangniao.net/page/7/" target="_blank" rel="noopener noreferrer" class="sidebar-link">胖鸟<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/it/tool/科学上网.html" class="sidebar-link">科学上网</a></li><li><a href="https://www.youhou8.com/users/max/scripts" target="_blank" rel="noopener noreferrer" class="sidebar-link">油猴<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="https://www.liantu.com/?123=http://qcsd-web-dev.oss-cn-qingdao.aliyuncs.com/" target="_blank" rel="noopener noreferrer" class="sidebar-link">二维码生成<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>JVM全称是Java虚拟机（Java Virtual Machine），是Java跨平台运行的中间层，用以运行Java字节码。JVM运行在操作系统之上，不与硬件设备直接交互。</p> <p>常见的Java虚拟机包括Sun classic、 HotSpot 以及 Android Dalvik VM。</p> <h2 id="运行机制"><a href="#运行机制" class="header-anchor">#</a> 运行机制</h2> <p>Java源文件在通过编译器之后被编译成相应的.Class文件（字节码文件），.Class文件又被JVM中的解释器编译成机器码在不同的操作系统（Windows、Linux、Mac）上运行。</p> <p>每种操作系统的解释器都是不同的，但基于解释器实现的虚拟机是相同的，这也是Java能够跨平台的原因。</p> <p>在一个Java进程开始运行后，虚拟机就开始实例化了，有多个进程启动就会实例化多个虚拟机实例。进程退出或者关闭，则虚拟机实例消亡，在多个虚拟机实例之间不能共享数据。</p> <p>Java程序的具体运行过程如下：</p> <ol><li>Java源文件被编译器编译成字节码文件。</li> <li>JVM将字节码文件编译成相应操作系统的机器码。</li> <li>机器码调用相应操作系统的本地方法库执行相应的方法。</li></ol> <h2 id="子系统"><a href="#子系统" class="header-anchor">#</a> 子系统</h2> <p>Java 虚 拟 机 包 括 一 个 类 加 载 器 子 系 统 （ Class Loader SubSystem）、运行时数据区（Runtime Data Area）、执行引擎和本地接口库（Native Interface Library）。本地接口库通过调用本地方法库（Native Method Library）与操作系统交互。</p> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/%E5%AD%90%E7%B3%BB%E7%BB%9F.png"></div> <h2 id="多线程"><a href="#多线程" class="header-anchor">#</a> 多线程</h2> <p>并发不一定要依赖多线程（如PHP中很常见的多进程并发），但是在Java里面谈论并发，基本上都与线程脱不开关系。</p> <p>线程是比进程更轻量级的调度执行单位，各个线程既可以共享进程资源（内存地址、文件I/O等），又可以独立调度。</p> <h3 id="内核线程"><a href="#内核线程" class="header-anchor">#</a> 内核线程</h3> <p>JVM中的线程与操作系统中的线程是相互对应的，使用内核线程实现的方式也被称为1：1实现。内核线程（Kernel-Level Thread，KLT）就是直接由 操作系统内核（Kernel，下称内核）支持的线程，这种线程由内核来完成线程切换。</p> <p>操作系统负责调度所有线程，并为其分配CPU时间片，在原生线程初始化完毕时，就会调用Java线程的run()执行该线程；在线程结束时，会释放原生线程和Java线程所对应的资源。</p> <h3 id="后台线程"><a href="#后台线程" class="header-anchor">#</a> 后台线程</h3> <p>在JVM后台运行的线程主要有以下几个：</p> <ul><li>GC线程：GC线程支持JVM中不同的垃圾回收活动</li> <li>编译器线程：编译器线程在运行时将字节码动态编译成本地平台机器码，是JVM跨平台的具体实现</li></ul> <h3 id="内存模型"><a href="#内存模型" class="header-anchor">#</a> 内存模型</h3> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.jpg"></div> <h2 id="运行时数据区"><a href="#运行时数据区" class="header-anchor">#</a> 运行时数据区</h2> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA.jpg"></div> <h3 id="程序计数器"><a href="#程序计数器" class="header-anchor">#</a> 程序计数器</h3> <p>（线程私有，无内存溢出问题）</p> <p>程序计数器是一块很小的内存空间，用于存储当前运行的线程所 执行的字节码的行号指示器。每个运行中的线程都有一个独立的程序 计数器，在方法正在执行时，该方法的程序计数器记录的是实时虚拟 机字节码指令的地址；如果该方法执行的是Native方法，则程序计数器的值为空（Undefined）。</p> <p>程序计数器属于“线程私有”的内存区域，它是唯一没有Out Of Memory（内存溢出）的区域。</p> <h3 id="虚拟机栈"><a href="#虚拟机栈" class="header-anchor">#</a> 虚拟机栈</h3> <p>（线程私有，描述Java方法的执行过程）</p> <p>虚拟机栈是描述Java方法的执行过程的内存模型，它在当前栈帧 （Stack Frame）中存储了局部变量表、操作数栈、动态链接、方法出 口等信息。同时，栈帧用来存储部分运行时数据及其数据结构，处理 动态链接（Dynamic Linking）方法的返回值和异常分派（Dispatch
Exception）。</p> <p>栈帧用来记录方法的执行过程，在方法被执行时虚拟机会为其创 建一个与之对应的栈帧，方法的执行和返回对应栈帧在虚拟机栈中的 入栈和出栈。无论方法是正常运行完成还是异常完成（抛出了在方法 内未被捕获的异常），都视为方法运行结束。</p> <h3 id="本地方法区"><a href="#本地方法区" class="header-anchor">#</a> 本地方法区</h3> <p>（线程私有）</p> <p>本地方法区和虚拟机栈的作用类似，区别是虚拟机栈为执行Java方法服务，本地方法栈为Native方法服务。</p> <h3 id="堆"><a href="#堆" class="header-anchor">#</a> 堆</h3> <p>（线程共享）</p> <p>在JVM运行过程中创建的对象和产生的数据都被存储在堆中，堆是 被线程共享的内存区域，也是垃圾收集器进行垃圾回收的最主要的内 存区域。由于现代JVM采用分代收集算法，因此Java堆从GC（Garbage Collection，垃圾回收）的角度还可以细分为：新生代、老年代和永 久代。</p> <h3 id="方法区"><a href="#方法区" class="header-anchor">#</a> 方法区</h3> <p>（线程共享）</p> <p>方法区也被称为永久代，用于存储类信息、常量、静态变量、即时编译器编译后的机器码、运行时常量池等数据。</p> <h2 id="垃圾回收"><a href="#垃圾回收" class="header-anchor">#</a> 垃圾回收</h2> <h3 id="分代收集"><a href="#分代收集" class="header-anchor">#</a> 分代收集</h3> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/%E5%88%86%E4%BB%A3%E6%94%B6%E9%9B%861.jpg"></div> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/%E5%88%86%E4%BB%A3%E6%94%B6%E9%9B%862.jpg"></div> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/%E5%88%86%E4%BB%A3%E6%94%B6%E9%9B%863.jpg"></div> <h3 id="垃圾回收算法"><a href="#垃圾回收算法" class="header-anchor">#</a> 垃圾回收算法</h3> <p>Java采用引用计数法和可达性分析来确定对象是否应该被回收， 其中，引用计数法容易产生循环引用的问题，可达性分析通过根搜索 算法（GC Roots Tracing）来实现。</p> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/garbage_ensure.png"></div> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/garbage_mark_clean.png"></div> <ol start="2"><li>复制算法</li></ol> <p>复制算法是为了解决标记清除算法内存碎片化的问题而设计的。 复制算法首先将内存划分为两块大小相等的内存区域，即区域 1和区 域 2，新生成的对象都被存放在区域 1中，在区域 1内的对象存储满 后会对区域 1进行一次标记，并将标记后仍然存活的对象全部复制到 区域 2中，这时区域 1将不存在任何存活的对象，直接清理整个区域      1的内存即可</p> <p>复制算法的内存清理效率高且易于实现，但由于同一时刻只有一 个内存区域可用，即可用的内存空间被压缩到原来的一半，因此存在 大量的内存浪费。同时，如果大对象过多的时候，来回复制则效率过低。</p> <ol start="3"><li>标记整理算法</li></ol> <p>标记整理算法结合了标记清除算法和复制算法的优点，其标记阶 段和标记清除算法的标记阶段相同，在标记完成后将存活的对象移到   内存的另一端，然后清除该端的对象并释放内存</p> <ol start="4"><li>分代收集算法</li></ol> <p>无论是标记清除算法、复制算法还是标记整理算法，都无法对所 有类型（长生命周期、短生命周期、大对象、小对象）的对象都进行 垃圾回收。因此，针对不同的对象类型，JVM采用了不同的垃圾回收算法，该算法被称为分代收集算法。</p> <p>分代收集算法根据对象的不同类型将内存划分为不同的区域，JVM将堆划分为新生代和老年代。</p> <p>新生代主要存放新生成的对象，其特点 是对象数量多但是生命周期短，在每次进行垃圾回收时都有大量的对 象被回收；</p> <p>老年代主要存放大对象和生命周期长的对象，因此可回收 的对象相对较少。</p> <h3 id="分代收集与分区收集"><a href="#分代收集与分区收集" class="header-anchor">#</a> 分代收集与分区收集</h3> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/sub_area.png"></div> <h3 id="垃圾收集器"><a href="#垃圾收集器" class="header-anchor">#</a> 垃圾收集器</h3> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/gc.png"></div> <h2 id="类加载系统"><a href="#类加载系统" class="header-anchor">#</a> 类加载系统</h2> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/class_load1.png"></div> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/class_load2.png"></div> <h3 id="类加载器"><a href="#类加载器" class="header-anchor">#</a> 类加载器</h3> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/classLoaders.png"></div> <h3 id="双亲委派-向上委托、向下委派"><a href="#双亲委派-向上委托、向下委派" class="header-anchor">#</a> 双亲委派（向上委托、向下委派）</h3> <p>为了保障类的唯一性和安全性。JVM通过双亲委派机制对类进行加载。</p> <p>双亲委派机制指一个类在收 到类加载请求后不会尝试自己加载这个类，而是把该类加载请求向上 委派给其父类去完成，其父类在接收到该类加载请求后又会将其委派 给自己的父类，以此类推，</p> <p>这样所有的类加载请求都被向上委派到启 动类加载器中。</p> <p>若父类加载器在接收到类加载请求后发现自己也无法 加载该类（通常原因是该类的Class文件在父类的类加载路径中不存 在），则父类会将该信息反馈给子类并向下委派子类加载器加载该 类，</p> <p>直到该类被成功加载，若找不到该类，则JVM会抛出ClassNotFound异常。</p> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/parental2.png"></div> <h2 id="四种引用类型"><a href="#四种引用类型" class="header-anchor">#</a> 四种引用类型</h2> <div><img src="https://gitlab.com/funuf/vuepress-blog-oss/raw/master/img/jvm/references4.png"></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9 days ago</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/it/java/DesignPattern.html" class="prev">
        设计模式
      </a></span> <span class="next"><a href="/it/java/ReactiveProgramming.html">
        响应式编程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9098f2d6.js" defer></script><script src="/assets/js/2.f664f0df.js" defer></script><script src="/assets/js/65.407e96f4.js" defer></script><script src="/assets/js/10.f82cd603.js" defer></script>
  </body>
</html>
